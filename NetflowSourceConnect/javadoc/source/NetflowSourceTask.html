<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_251) on Sat Nov 06 12:40:31 EET 2021 -->
<title>NetflowSourceTask</title>
<meta name="date" content="2021-11-06">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="NetflowSourceTask";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/NetflowSourceTask.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../source/NetflowSourceConnector.html" title="class in source"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../index.html?source/NetflowSourceTask.html" target="_top">Frames</a></li>
<li><a href="NetflowSourceTask.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">source</div>
<h2 title="Class NetflowSourceTask" class="title">Class NetflowSourceTask</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.kafka.connect.source.SourceTask</li>
<li>
<ul class="inheritance">
<li>source.NetflowSourceTask</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../interfaces/FilesListener.html" title="interface in interfaces">FilesListener</a>, org.apache.kafka.connect.connector.Task</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">NetflowSourceTask</span>
extends org.apache.kafka.connect.source.SourceTask
implements <a href="../interfaces/FilesListener.html" title="interface in interfaces">FilesListener</a></pre>
<div class="block">NetflowSourceTask is a Task that receives events with new netflow
 files from FileWatcher service, process them and stores them in Kafka.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.1-SNAPSHOT</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>0.1-SNAPSHOT</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Space Hellas S.A.</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.HashMap&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../source/NetflowSourceTask.html#config">config</a></span></code>
<div class="block">HashMap(String, String) A hashmap contains all props passed in start() function.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.concurrent.ScheduledExecutorService</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../source/NetflowSourceTask.html#exec">exec</a></span></code>
<div class="block">Service for scheduling execution of a Runnable class with a time interval.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../utils/FileWatcher.html" title="class in utils">FileWatcher</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../source/NetflowSourceTask.html#fileWatcher">fileWatcher</a></span></code>
<div class="block">FileWatcher service, which observes a directory for new files and sends
 events, when it detects new netflow files.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../source/NetflowSourceTask.html#KAFKA_TOPIC">KAFKA_TOPIC</a></span></code>
<div class="block">String Kafka topic, where collected records will be sent.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private org.apache.log4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../source/NetflowSourceTask.html#logger">logger</a></span></code>
<div class="block">Logger Instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.ArrayList&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../source/NetflowSourceTask.html#netflowFiles">netflowFiles</a></span></code>
<div class="block">ArrayList(String), where all new netflow filenames are kept.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.kafka.connect.source.SourceTask">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.kafka.connect.source.SourceTask</h3>
<code>context</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../source/NetflowSourceTask.html#NetflowSourceTask--">NetflowSourceTask</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../source/NetflowSourceTask.html#getFilenames-java.util.ArrayList-">getFilenames</a></span>(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;files)</code>
<div class="block">Observer, that retrieves events from FileWatcher.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;org.apache.kafka.connect.source.SourceRecord&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../source/NetflowSourceTask.html#poll--">poll</a></span>()</code>
<div class="block">Poll function of source task.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../source/NetflowSourceTask.html#start-java.util.Map-">start</a></span>(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;props)</code>
<div class="block">Start function of source task.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../source/NetflowSourceTask.html#stop--">stop</a></span>()</code>
<div class="block">Stop source task.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../source/NetflowSourceTask.html#version--">version</a></span>()</code>
<div class="block">Returns version.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.kafka.connect.source.SourceTask">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.kafka.connect.source.SourceTask</h3>
<code>commit, commitRecord, commitRecord, initialize</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>private&nbsp;org.apache.log4j.Logger logger</pre>
<div class="block">Logger Instance.</div>
</li>
</ul>
<a name="exec">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exec</h4>
<pre>private&nbsp;java.util.concurrent.ScheduledExecutorService exec</pre>
<div class="block">Service for scheduling execution of a Runnable class with a time interval.</div>
</li>
</ul>
<a name="fileWatcher">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fileWatcher</h4>
<pre>private&nbsp;<a href="../utils/FileWatcher.html" title="class in utils">FileWatcher</a> fileWatcher</pre>
<div class="block">FileWatcher service, which observes a directory for new files and sends
 events, when it detects new netflow files.</div>
</li>
</ul>
<a name="netflowFiles">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>netflowFiles</h4>
<pre>private&nbsp;java.util.ArrayList&lt;java.lang.String&gt; netflowFiles</pre>
<div class="block">ArrayList(String), where all new netflow filenames are kept.</div>
</li>
</ul>
<a name="KAFKA_TOPIC">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KAFKA_TOPIC</h4>
<pre>private&nbsp;java.lang.String KAFKA_TOPIC</pre>
<div class="block">String Kafka topic, where collected records will be sent.</div>
</li>
</ul>
<a name="config">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>config</h4>
<pre>private&nbsp;java.util.HashMap&lt;java.lang.String,java.lang.String&gt; config</pre>
<div class="block">HashMap(String, String) A hashmap contains all props passed in start() function.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="NetflowSourceTask--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NetflowSourceTask</h4>
<pre>public&nbsp;NetflowSourceTask()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="start-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start(java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;props)</pre>
<div class="block">Start function of source task. It implements FilesListener observer.
 It stars a FileWatcher service and register an observer to its events.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>start</code>&nbsp;in interface&nbsp;<code>org.apache.kafka.connect.connector.Task</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>start</code>&nbsp;in class&nbsp;<code>org.apache.kafka.connect.source.SourceTask</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>props</code> - Map containing configuration properties.</dd>
</dl>
</li>
</ul>
<a name="poll--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>poll</h4>
<pre>public&nbsp;java.util.List&lt;org.apache.kafka.connect.source.SourceRecord&gt;&nbsp;poll()</pre>
<div class="block">Poll function of source task. It runs all time to create new SourceRecords
 and sends them to Kafka. It check the list with new detected filenames. If
 there are filenames, it retrieves the oldest one (and removes it from list),
 it extracts netflow records using NetflowUtils. Each netflow record is a new
 Kafka SourceRecord. All SourceRecords will be sent to Kafka for storage.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>poll</code>&nbsp;in class&nbsp;<code>org.apache.kafka.connect.source.SourceTask</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List(SourceRecord) A list containing all SourceRecords that will be
 sent to Kafka for storage.</dd>
</dl>
</li>
</ul>
<a name="stop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()</pre>
<div class="block">Stop source task. It unregisters listener for new files
 and stops the FileWatcher service.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>stop</code>&nbsp;in interface&nbsp;<code>org.apache.kafka.connect.connector.Task</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>stop</code>&nbsp;in class&nbsp;<code>org.apache.kafka.connect.source.SourceTask</code></dd>
</dl>
</li>
</ul>
<a name="version--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>version</h4>
<pre>public&nbsp;java.lang.String&nbsp;version()</pre>
<div class="block">Returns version.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>version</code>&nbsp;in interface&nbsp;<code>org.apache.kafka.connect.connector.Task</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String version</dd>
</dl>
</li>
</ul>
<a name="getFilenames-java.util.ArrayList-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getFilenames</h4>
<pre>public&nbsp;void&nbsp;getFilenames(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;files)</pre>
<div class="block">Observer, that retrieves events from FileWatcher. Each event
 is an ArrayList with detected filenames, that needs processing.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../interfaces/FilesListener.html#getFilenames-java.util.ArrayList-">getFilenames</a></code>&nbsp;in interface&nbsp;<code><a href="../interfaces/FilesListener.html" title="interface in interfaces">FilesListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>files</code> - An ArrayList(String) with all new filenames detected.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/NetflowSourceTask.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../source/NetflowSourceConnector.html" title="class in source"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../index.html?source/NetflowSourceTask.html" target="_top">Frames</a></li>
<li><a href="NetflowSourceTask.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
